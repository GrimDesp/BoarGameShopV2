@page "/account"
@layout MainLayout
@attribute [Authorize]

<PageTitle>Налаштування</PageTitle>
<div class="container" style="font-size:1.2em; font-family:'Franklin Gothic Medium'">
    <div class="row justify-content-center">
        <div class="col-8 p-2 border border-end border-2 text-center">
            @if(user == null)
            {
                <LoadingSpinner></LoadingSpinner>
            }
            else
            {
                <form>
                    @if (!string.IsNullOrEmpty(errorMessage))
                    {
                        <p class="alert-danger">Помилка :  @errorMessage</p>
                    }
                    @if (!string.IsNullOrEmpty(succesMessage))
                    {
                        <p class="alert-success">@succesMessage</p>
                    }
                    <div class="row">
                        <label class="col-lg-4 col-sm-12 form-label m-1 p-2 justify-content-center  text-end" for="name">Ім`я</label>
                        <input class="col-lg-6 col-sm-12 form-text m-1 p-2 justify-content-center" id="name" @bind="user.Firstname" />
                    </div>
                    <div class="row">
                        <label class="col-lg-4 col-sm-12 form-label m-1 p-2 justify-content-center  text-end" for="last">Фамілія</label>
                        <input class="col-lg-6 col-sm-12 form-text m-1 p-2 justify-content-center" id="last" @bind="user.Lastname" />
                    </div>
                    <div class="row">
                        <label class="col-lg-4 col-sm-12 form-label m-1 p-2 justify-content-center  text-end" for="second">По батькові</label>
                        <input class="col-lg-6 col-sm-12 form-text m-1 p-2 justify-content-center" id="second" @bind="user.Secondname" />
                    </div>
                    <div class="row">
                        <label class="col-lg-4 col-sm-12 form-label m-1 p-2 justify-content-center  text-end" for="phone">Номер телефону</label>
                        <input class="col-lg-6 col-sm-12 form-text m-1 p-2 justify-content-center" id="phone" @bind="user.PhoneNumber" />
                    </div>
                    @if (inRequest)
                    {
                        <button class="btn btn-success m-1 disabled" type="button">
                            Зберегти
                        </button>
                    }
                    else
                    {
                        <button class="btn btn-success m-1" type="button" @onclick="Submit_OnClick">
                            Зберегти
                        </button>
                    }
                </form>
            }
        </div>
    </div>
</div>