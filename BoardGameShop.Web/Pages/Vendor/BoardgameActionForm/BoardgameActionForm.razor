<div class="m-2 row justify-content-center">
    @if (!string.IsNullOrEmpty(ErrorMessage))
    {
        <div class="row-cols-6 m-2 alert-danger justify-content-center text-center">
            Помилка : @ErrorMessage
        </div>
    }
    <div class="col-8 p-2 border border-end border-2 text-center">
        @if(Boardgame != null && EntitiesInfo != null && BoardgameChanging != null)
        {
            
            @Boardgame.Name
            <hr />
            <div class="row justify-content-center ">
                <div class="col-lg-4 col-sm-12 align-content-center text-end">
                    @if (IsPublisherChange)
                    {
                        <span class=" bi bi-circle-fill text-success"></span>
                    }
                    Виробник гри :
                </div>
                <div class="col-lg-2 col-sm-12 align-content-center">
                    <select class="form-select @disabled" @bind="@PublisherBound">

                        @foreach (var publisher in EntitiesInfo.PublisherDtos)
                        {

                            @if (publisher.Id.ToString() == PublisherBound)
                            {
                                <option value="@publisher.Id" selected>@publisher.Name</option>
                            }
                            else
                            {
                                <option value="@publisher.Id">
                                    @publisher.Name
                                </option>
                            }
                        }
                    </select>

                </div>
                @if (IsPublisherChange)
                {
                    <div class="col text-start">
                        <button class="@disabled btn btn-primary" @onclick="ResetPublisher_OnClick">Відмінити</button>
                    </div>
                }
                else
                {
                    <div class="col text-start">
                        <button class="disabled btn btn-primary">Відмінити</button>
                    </div>
                }
            </div>
            <hr />
            <SeilingInfo Disabled="@disabled" IsChanged="IsSeilingInfoChange" ResetCallback="ResetSeilingInfo" Action="OnSeilingInfoChange"
                IsDeleted="BoardgameChanging.IsDeleted" Quantity="BoardgameChanging.Quantity"/>
            <hr />
            <PriceActionFormPart Action="OnPriceChanging" Disabled="@disabled" IsChanged="IsPricingChange"
                FullPrice="BoardgameChanging.FullPrice" Discount="BoardgameChanging.Discount" ResetCallback="ResetPrice" />
            <hr />
            <StatsActionFormPart Age="@BoardgameChanging.Age" MaxPlayer="@BoardgameChanging.MaxPlayer"
                MinPlayer="BoardgameChanging.MinPlayer" 
                MaxPlayTime="BoardgameChanging.MaxPlayTime" MinPlayTime="BoardgameChanging.MinPlayTime"
                IsChanged="@IsStatsChange" Action="OnStatsChanging" Disabled="@disabled" 
                AgeList="@AgeList" ResetCallback="ResetStats_OnClick" />
            <hr />
            <CategoryActionFormPart AddCategory="AddCategory" RemoveCategory="RemoveCategory" 
                ResetCategories="ResetCategories" Changed="@(BoardgameChanging.Categories.Count != 0)"
                Categories = "@EntitiesInfo.CategoryDtos" BoardgameCategories="@Boardgame.Categories" disabledStyle="@disabled"/>
            <hr />
            <MechanicActionFormPart UpdateMechanic="UpdateMechanic"
                BoardgameMechanics="@Boardgame.Mechanics" Changed=@(BoardgameChanging.Mechanics.Count!=0)
                disabledStyle="@disabled" Mechanics="@(EntitiesInfo.MechanicDtos)" ResetMechanics="ResetMechanics" />
            <hr />
            <AuthorActionFormPart UpdateAuthor="UpdateAuthor"
                BoardgameAuthors="@Boardgame.Authors" Changed= "@(BoardgameChanging.Authors.Count!=0)"
                disabledStyle="@disabled" Authors="EntitiesInfo.AuthorDtos" ResetAuthors="ResetAuthors"/>   
            <hr />
            <ArtistActionFormPart UpdateArtist="UpdateArtist"
                BoardgameArtists="Boardgame.Artists" Changed ="@(BoardgameChanging.Artists.Count!=0)"
                disabledStyle="@disabled" Arists="EntitiesInfo.ArtistDtos" ResetArtists="ResetArtists"/>
            <hr />
            @if (isChanged)
            {
                <button type="button" class="btn btn-success @disabled" @onclick="()=> SendToAction_OnClick()">Зберегти</button>
            }
            else
            {
                <button type="button" class="btn btn-success disabled">Зберегти</button>
            }
        }
    </div>
</div>